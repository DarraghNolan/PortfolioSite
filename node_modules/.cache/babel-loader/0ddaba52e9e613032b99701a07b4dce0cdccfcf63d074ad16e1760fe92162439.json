{"ast":null,"code":"var _jsxFileName = \"E:\\\\BackUp Transport\\\\OutsideProjects\\\\PortfolioSite\\\\src\\\\pages\\\\UpdateUser.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"../axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport \"../style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UpdateUser = () => {\n  _s();\n  const [user, setUser] = useState({\n    Name: \"\",\n    Position: \"\",\n    Password: \"\"\n  });\n  const [updateStatus, setUpdateStatus] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const userId = location.pathname.split(\"/\")[2];\n  const [currentUserPosition, setCurrentUserPosition] = useState(\"\");\n  const currentUser = JSON.parse(localStorage.getItem(\"user\")); // Remove 'const'\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        //  --  Standard Localhost Connection\n        const response = await axios.get(`/users/${userId}`);\n        const userData = response.data;\n        setUser(userData);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    const checkCurrentUserPos = () => {\n      setCurrentUserPosition(currentUser.Position); // Set the current user's position\n    };\n    checkCurrentUserPos();\n    fetchUser();\n  }, [userId]);\n  const handleChange = e => {\n    setUser(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleClick = async e => {\n    e.preventDefault();\n    try {\n      //  --  Standard LocalHost Connection\n      await axios.put(\"/users/\" + userId, user);\n      navigate(\"/usersmenu\");\n    } catch (err) {\n      console.log(\"The User was not updated...\");\n      console.log(err);\n      setUpdateStatus(\"The User was not updated...\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"form\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Password\",\n          value: user.Password || \"\",\n          onChange: handleChange,\n          name: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), currentUserPosition === \"Manager\" || currentUserPosition === \"Master\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Name\",\n            value: user.Name || \"\",\n            onChange: handleChange,\n            name: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Position:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"ManagerODBox\",\n            onChange: handleChange,\n            name: \"Position\",\n            value: user.Position || \"\" // Set the selected value\n            ,\n            children: [currentUser.id === user.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Manager\",\n                children: \"Manager\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this)\n            }, void 0, false) : null, currentUser.id != user.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Employee\",\n                children: \"Employee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Supervisor\",\n                children: \"Supervisor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Manager\",\n                children: \"Manager\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        id: \"exportPDFBtn\",\n        className: \"defaultBtn\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"defaultIcon\",\n          src: require('../imgs/Save.png')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), \"Save Changes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: updateStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdateUser, \"azY5ybUjh88ZBhvbpQPJNfORFOs=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = UpdateUser;\nexport default UpdateUser;\nvar _c;\n$RefreshReg$(_c, \"UpdateUser\");","map":{"version":3,"names":["axios","React","useState","useEffect","useLocation","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","UpdateUser","_s","user","setUser","Name","Position","Password","updateStatus","setUpdateStatus","navigate","location","userId","pathname","split","currentUserPosition","setCurrentUserPosition","currentUser","JSON","parse","localStorage","getItem","fetchUser","response","get","userData","data","err","console","log","checkCurrentUserPos","handleChange","e","prev","target","name","value","handleClick","preventDefault","put","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","id","onClick","src","require","_c","$RefreshReg$"],"sources":["E:/BackUp Transport/OutsideProjects/PortfolioSite/src/pages/UpdateUser.jsx"],"sourcesContent":["import axios from \"../axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\"\r\nimport \"../style.css\";\r\n\r\nconst UpdateUser = () =>{\r\n    const [user, setUser] = useState({\r\n        Name:\"\",\r\n        Position:\"\",\r\n        Password:\"\"\r\n    });\r\n\r\n    const [updateStatus, setUpdateStatus] = useState(\"\");\r\n\r\n    const navigate = useNavigate()\r\n    const location = useLocation()\r\n\r\n    const userId = location.pathname.split(\"/\")[2]\r\n\r\n    const [currentUserPosition, setCurrentUserPosition] = useState(\"\");\r\n    const currentUser = JSON.parse(localStorage.getItem(\"user\")); // Remove 'const'\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n          try {\r\n            //  --  Standard Localhost Connection\r\n            const response = await axios.get(`/users/${userId}`);\r\n            \r\n            const userData = response.data;\r\n            setUser(userData);\r\n          } catch (err) {\r\n            console.log(err);\r\n          }\r\n        };\r\n\r\n        const checkCurrentUserPos = () => {\r\n            setCurrentUserPosition(currentUser.Position); // Set the current user's position\r\n        };\r\n        \r\n        checkCurrentUserPos();\r\n        fetchUser();\r\n    }, [userId]);\r\n    \r\n\r\n    const handleChange = (e) =>{\r\n        setUser((prev)=>({...prev, [e.target.name] : e.target.value }));\r\n    };\r\n\r\n    const handleClick = async e =>{\r\n        e.preventDefault()\r\n        try{\r\n            //  --  Standard LocalHost Connection\r\n            await axios.put(\"/users/\" + userId, user)\r\n\r\n            navigate(\"/usersmenu\")\r\n        }catch(err){\r\n            console.log(\"The User was not updated...\")\r\n            console.log(err)\r\n            setUpdateStatus(\"The User was not updated...\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <article className='form'>\r\n            <div>\r\n                <div> \r\n                    <h4>\r\n                        Password:\r\n                    </h4>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Password\"\r\n                        value={user.Password || \"\"}\r\n                        onChange={handleChange}\r\n                        name=\"Password\"\r\n                    />\r\n                </div>\r\n                {(currentUserPosition === \"Manager\" || currentUserPosition === \"Master\") ? (\r\n                <>\r\n                    <div> \r\n                        <h4>\r\n                            Name:\r\n                        </h4>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Name\"\r\n                            value={user.Name || \"\"}\r\n                            onChange={handleChange}\r\n                            name=\"Name\"\r\n                        />\r\n                    </div>\r\n                    <div> \r\n                        <h4>\r\n                            Position:\r\n                        </h4>\r\n                        <select\r\n                            id=\"ManagerODBox\"\r\n                            onChange={handleChange}\r\n                            name=\"Position\"\r\n                            value={user.Position || \"\"} // Set the selected value\r\n                        >\r\n                            {(currentUser.id === user.id) ? (\r\n                            <>\r\n                                <option value=\"Manager\">Manager</option>\r\n                            </>\r\n                            ) : null}\r\n                            {(currentUser.id != user.id) ? (\r\n                            <>\r\n                                <option value=\"Employee\">Employee</option>\r\n                                <option value=\"Supervisor\">Supervisor</option>\r\n                                <option value=\"Manager\">Manager</option>\r\n                            </>\r\n                            ) : null}\r\n                        </select>\r\n                    </div>\r\n                </>\r\n                ) : null}\r\n                <button onClick={handleClick} id=\"exportPDFBtn\" className='defaultBtn'>\r\n                    <img className=\"defaultIcon\" src={require('../imgs/Save.png')}></img>\r\n                    Save Changes\r\n                </button>\r\n                <div>\r\n                    <h3>{updateStatus}</h3>\r\n                </div>\r\n            </div>            \r\n        </article>\r\n    )\r\n}\r\n\r\nexport default UpdateUser"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,UAAU;AAC5B,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEtB,MAAMC,UAAU,GAAGA,CAAA,KAAK;EAAAC,EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC;IAC7BY,IAAI,EAAC,EAAE;IACPC,QAAQ,EAAC,EAAE;IACXC,QAAQ,EAAC;EACb,CAAC,CAAC;EAEF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMiB,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAMe,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAE9B,MAAMiB,MAAM,GAAGD,QAAQ,CAACE,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAE9C,MAAM,CAACC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAClE,MAAMwB,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;;EAE9D3B,SAAS,CAAC,MAAM;IACZ,MAAM4B,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF;QACA,MAAMC,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,GAAG,CAAE,UAASZ,MAAO,EAAC,CAAC;QAEpD,MAAMa,QAAQ,GAAGF,QAAQ,CAACG,IAAI;QAC9BtB,OAAO,CAACqB,QAAQ,CAAC;MACnB,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;IACF,CAAC;IAED,MAAMG,mBAAmB,GAAGA,CAAA,KAAM;MAC9Bd,sBAAsB,CAACC,WAAW,CAACX,QAAQ,CAAC,CAAC,CAAC;IAClD,CAAC;IAEDwB,mBAAmB,CAAC,CAAC;IACrBR,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACV,MAAM,CAAC,CAAC;EAGZ,MAAMmB,YAAY,GAAIC,CAAC,IAAI;IACvB5B,OAAO,CAAE6B,IAAI,KAAI;MAAC,GAAGA,IAAI;MAAE,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,GAAIH,CAAC,CAACE,MAAM,CAACE;IAAM,CAAC,CAAC,CAAC;EACnE,CAAC;EAED,MAAMC,WAAW,GAAG,MAAML,CAAC,IAAG;IAC1BA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClB,IAAG;MACC;MACA,MAAM/C,KAAK,CAACgD,GAAG,CAAC,SAAS,GAAG3B,MAAM,EAAET,IAAI,CAAC;MAEzCO,QAAQ,CAAC,YAAY,CAAC;IAC1B,CAAC,QAAMiB,GAAG,EAAC;MACPC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;MAC1CD,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBlB,eAAe,CAAC,6BAA6B,CAAC;IAClD;EACJ,CAAC;EAED,oBACIX,OAAA;IAAS0C,SAAS,EAAC,MAAM;IAAAC,QAAA,eACrB3C,OAAA;MAAA2C,QAAA,gBACI3C,OAAA;QAAA2C,QAAA,gBACI3C,OAAA;UAAA2C,QAAA,EAAI;QAEJ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL/C,OAAA;UACIgD,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,UAAU;UACtBX,KAAK,EAAEjC,IAAI,CAACI,QAAQ,IAAI,EAAG;UAC3ByC,QAAQ,EAAEjB,YAAa;UACvBI,IAAI,EAAC;QAAU;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,EACJ9B,mBAAmB,KAAK,SAAS,IAAIA,mBAAmB,KAAK,QAAQ,gBACvEjB,OAAA,CAAAE,SAAA;QAAAyC,QAAA,gBACI3C,OAAA;UAAA2C,QAAA,gBACI3C,OAAA;YAAA2C,QAAA,EAAI;UAEJ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL/C,OAAA;YACIgD,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,MAAM;YAClBX,KAAK,EAAEjC,IAAI,CAACE,IAAI,IAAI,EAAG;YACvB2C,QAAQ,EAAEjB,YAAa;YACvBI,IAAI,EAAC;UAAM;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACd,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACN/C,OAAA;UAAA2C,QAAA,gBACI3C,OAAA;YAAA2C,QAAA,EAAI;UAEJ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL/C,OAAA;YACImD,EAAE,EAAC,cAAc;YACjBD,QAAQ,EAAEjB,YAAa;YACvBI,IAAI,EAAC,UAAU;YACfC,KAAK,EAAEjC,IAAI,CAACG,QAAQ,IAAI,EAAG,CAAC;YAAA;YAAAmC,QAAA,GAE1BxB,WAAW,CAACgC,EAAE,KAAK9C,IAAI,CAAC8C,EAAE,gBAC5BnD,OAAA,CAAAE,SAAA;cAAAyC,QAAA,eACI3C,OAAA;gBAAQsC,KAAK,EAAC,SAAS;gBAAAK,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC,gBAC1C,CAAC,GACC,IAAI,EACN5B,WAAW,CAACgC,EAAE,IAAI9C,IAAI,CAAC8C,EAAE,gBAC3BnD,OAAA,CAAAE,SAAA;cAAAyC,QAAA,gBACI3C,OAAA;gBAAQsC,KAAK,EAAC,UAAU;gBAAAK,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC1C/C,OAAA;gBAAQsC,KAAK,EAAC,YAAY;gBAAAK,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC9C/C,OAAA;gBAAQsC,KAAK,EAAC,SAAS;gBAAAK,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eAC1C,CAAC,GACC,IAAI;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC;MAAA,eACR,CAAC,GACC,IAAI,eACR/C,OAAA;QAAQoD,OAAO,EAAEb,WAAY;QAACY,EAAE,EAAC,cAAc;QAACT,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAClE3C,OAAA;UAAK0C,SAAS,EAAC,aAAa;UAACW,GAAG,EAAEC,OAAO,CAAC,kBAAkB;QAAE;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,gBAEzE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT/C,OAAA;QAAA2C,QAAA,eACI3C,OAAA;UAAA2C,QAAA,EAAKjC;QAAY;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAElB,CAAC;AAAA3C,EAAA,CA1HKD,UAAU;EAAA,QASKL,WAAW,EACXD,WAAW;AAAA;AAAA0D,EAAA,GAV1BpD,UAAU;AA4HhB,eAAeA,UAAU;AAAA,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}